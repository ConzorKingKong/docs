---
id: social-login
title: Social Login
hide_title: true
---

<!-- COPY DOCS -->
<!-- ./thirdpartyemailpassword/troubleshooting/social-login.mdx -->

# Troubleshooting Social Logins

The following list is a handful of errors you can run into when implementing social logins:

* Providing your own scope but not including the minimum `email` scope.
* The signinup API is called twice from the frontend in react strict mode + nextjs which results in one of the calls failing (only for development mode).
* Starting the auth flow with one redirect uri but using a different one when calling /signinup. If both URLs are whitelisted on the Google config then google responds with {error: "invalid_grant", error_description: "Bad Request"}.
* The app uses server side rendering, and the consume code API being called is first happening on the server side and then on the client side. This makes the client side one fail with an "invalid_grant" error (at least for google).
* signinup may be getting called twice. Make sure you aren't doing anything to double mount components. This has happened when a user is using flask and nextjs and setting `key={router.asPath}` on the path using signinup.
* If the state in sessionStorage is different than the state in the url, it's usually cause the authorizationurl GET API was called more than once, but the user was redirected to the first url even though the second url's state was calculated and stored in the session storage.
* For apple login, if the user has put the same values for redirectURIOnProviderDashboard and frontendRedirectURI when calling getAuthorisationURLWithQueryParamsAndSetState, then it means that the state generated by the frontend won't have the frontendRedirectUri which will then make the apple callback on the backend fail with a 500 error.
* For sign in with apple, if the flow is started (redirects the end user to apple's sign in page) with a redirect uri different than the one the SDK provides (apiDomain + basePath + /callback/apple) then the signinup flow will always fail. This is because the SDK always uses the built in URL as the redirect uri and when we query apple for the access token information, Apple will always complain about the redirect uri not matching (with a "invalid_grant" error).
* Incorrect bundle id given for apple causes issues with parsing id token headers.
* For sign in with apple on React Native, if you're building with Expo, then in dev mode the default client id sent to apple by expo is different than the apps bundle id (expo.client.io...). You can build the iOS app with a development certificate (not expo dev mode but iOS dev build) to test apple sign in with SuperTokens.